<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <p>Welcome to Node Wechat!</p>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var client_socket = io();

      client_socket.on('connect',function(){
        console.log("Client: Connect to Server");
        client_socket.emit('client_request', {
          from: 'CLIENT',
          message: 'From Client to Server',
          user: 'Cheng'
        });
        // client_socket.emit('client_message_request'{hello: 'From Client to Server'});
        // console.log("Client Socket: " , client_socket);
        // console.log('client_message_request SENT');
      });
      client_socket.on('disconnect',function(){
        console.log("Client: Disconnect from Server");
        // console.log("Client Socket: " , client_socket);
      });
      // Custom Socket Event Listener   --- Start
      client_socket.on('server_request',function(new_server_response){
        console.log('Client Received: ' + JSON.stringify(new_server_response));
      });



      // Custom Socket Event Listener   --- End

    </script>
  </body>
</html>
